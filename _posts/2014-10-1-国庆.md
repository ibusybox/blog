---
layout: post
published: true
title: 又是一年国庆

---
####国庆气氛
过来来来，昨天下午公司开发服务器陆续下电，服务器跑了10多个月，趁这个机会，休息一下。  
昨天下午Commit代码之后打算build一个rlease测试，才发现持续集成服务器下电了。  
随后开发服务器在5:20下电，同事都在等10分钟下班，整个楼都提前放假了。  

5:30后赶紧冲到车库（怕晚了塞车），车库里的车速明显比平时快了，出了车库开始下暴雨，雨下得连路都看不清楚了，真是个热烈的国庆！  

####Kindle
Kindle DX 屏幕看不清楚了，到淘宝问了卖 Kindle 的人，说是屏幕有问题，老化了，需要换屏幕。  
本来琢磨着是不是重新买一个，但是考虑到9.7寸的太贵（2000多），而6寸的屏幕太小不实用。还是换屏幕吧。  

在淘宝上找了一家可以换了，上周6老婆带我去换（老婆对华强北比较熟悉），280块钱，换上屏幕后，果然非常清楚，像新的一样。  感谢华强北，强大的华强北。  

可是拿到家里之后，显示不出来了，屏幕花了。  
万恶的华强北，应当是给我换的不是新货。  周一中午下班拿过去，老板说是我压碎了屏幕：如果不是碎了免费换。老板说。不过女人就是精明，老板娘给老板使了个颜色，小声说别给他换了，麻烦，又赚不到钱。要我去别家换。**可是那天吹牛说整个华强北就你们一家能换，现在又说做不了，这种做生意和对待顾客的态度必须谴责！那么大家要注意了，如果你有幸看到这篇文章，且又要去华强北换kindle的屏幕，那么不要去这家：**  
> 新亚洲电子世界 高科德 32047 档口，鸿辉电子。

后来去了另一家，拆开之后，屏幕果然碎了，说是放包里面，被被子压碎的。只能说这个屏幕质量太差，以前我原装的屏幕，随便压都没问题。  
没办法，换屏幕总比仍了好，刚才还买了个保护皮套，希望不要再次换屏幕了。  

####三体
Kindle 修好了之后，只放一本书，读完了再换另外一本。否则就像之前，这本读一半，那本读一半，不像读书的样子。  
这次放的是三体(The Three-Body Problem)，国内科幻经典之作。之前在 iPad 上看过一点，那还是去年7月，换工号休假，在丈母娘家，每天早上在楼顶看一会。  
由于下载的PDF（没有电子书购买，只能看盗版的了，抱歉）字体太小，就实用 [Calibre](http://www.calibre-ebook.com) 这个软件把 PDF 转成了 MOBI 格式，由于 Kindle DX 的原生系统不支持中文，就安装了 [多看](http://www.duokan.com) 系统。看个盗版书不容易，所以不爱折腾的人就直接买纸书得了，别这么折腾浪费时间，也正好支持正版。  

三体确实是一本不错的书，容易懂，不需要很多物理知识（初中或高中的物理足够了），特别是里面的两个故事，虽然每个人都知道，但是讲的通俗易懂也是能力体现。  

“射手”假说:  
> 有一名神枪手,在一个靶子上每隔十厘米打一个洞。设想这个靶子的平面上生活 着一种二维智能生物,它们中的科学家在对自己的宇宙进行观察后,发现了一个伟大的定律: “宇宙每隔十厘米,必然会有一个洞。”它们把这个神枪手一时兴起的随意行为,看成了自己宇宙 中的铁律。

“农场主假说”:  
> 一个农场里有一一群火鸡,农场主每天中午十一 点来给它们喂食。火鸡中的一名科学家观察这个现象,一直观察了近一年都没有例外,于是它也 发现了自己宇宙中的伟大定律:“每天上午十一点,就有食物降临。”它在感恩节早晨向火鸡们 公布了这个定律,但这天上午十一点食物没有降临,农场主进来把它们都捉去杀了。

当然上面两个故事庄子在[ 逍遥游 ](http://baike.baidu.com/view/1019652.htm?fr=aladdin)里面也讲过，也很通俗易懂（古树的大概意思是说蘑菇的宇宙观中没有满月，上弦月，下弦月，因为蘑菇最多也只有半月寿命）：
> 小知不及大知，小年不及大年。奚以知其然也？朝菌不知晦朔，蟪蛄（huìgū）不知春秋，此小年也。楚之南有冥灵者，以五百岁为春，五百岁为秋；上古有大椿者，以八千岁为春，八千岁为秋，此大年也。


####写代码
国庆前把项目之前的代码重写了。写代码关键是基础部件，也就是被称为框架的东东。  
有了框架后开发的效率明显能提高，同时框架也有一种约束力，或者叫 Style 吧。  


当前这次代码调整就是一个很好的例子。  在我重写代码之前，一些最基础的内容已经由WHZ完成了，同时定义了一个约束力：Action以及其加载和执行机制。  
WZH的最基础部件包含 ActionPlugin, Log, Deployment, SFTP, Encrypt/Decrytp, Repo Managment. 有了这些基础部件之后，解决了最基本的问题。  
**这些对等的称为地基**。 

我基于这些基础之上，增加了 通道（SYSAgent），任务调度（Action分发与执行），注册与心跳（节点发现与节点配置信息同步）。  
**这些对等的称为墙体和屋顶。**  

基于上面基础的应用开发就相对简单了，我大概花了一周的时间，把之前的功能的代码写完了，复用了之前代码的几个基本的功能（生成部署信息，创链接，导出环境变量），把之前分散在不同文件中同类别的功能，按照模型中的类别，重新整理。  
**这些对等的称为门窗，家居，厨灶，油漆等。**  

至于如何把这些应用编排起来，就是以何种形式把这些应用功能包装起来，展示给用户。这里包含Action开发（Action就是调用各个类别的应用提供的功能），不同的业务应用提供不同的界面，同时把不同的Action按照顺序组织起来，这个就是最终用户看到的。我们提供给最终用户的就是自动化安装扩容，配置同步。  
**这些再对等起来，就是装修了。当然装修的要求会对门窗，厨灶有比较多的改动，有时候也会打掉一面墙，但是承重墙是不能打掉的。**


因此，到目前为止，这个房子已经建好了，就看主人的爱好怎么改装修了。

